<div class="pt-list">
  <p ng-show="spinner" ><span class="glyphicon glyphicon-refresh spinning"></span> Ricerca in corso...</p>

  <div ng-show="errors" class="alert alert-danger" role="alert">
    <p>
      <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
      <span class="sr-only">Error:</span>
      Errore durante la ricerca, riprova più tardi.
    </p>
  </div>
  <div ng-show="results" class="panel panel-default">
    <div class="panel-heading" style="position:relative">
      <h2>{{type}} / {{key|capitalize:all}}</h2>
    </div>
    <div class="panel-body">
      <p>Ordina i {{results.length}} risultati:</p>
      <ul class="nav nav-pills nav-justified">
        <li ng-class="{'active': orderK === 'cognome'}" ng-click="selectOrder('cognome')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Cognome</a>
        </li>
        <li ng-class="{'active': orderK === '-cognome'}" ng-click="selectOrder('-cognome')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> Cognome</a>
        </li>
        <li ng-class="{'active': orderK === '-data_nascita'}" ng-click="selectOrder('-data_nascita')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Età</a>
        </li>
        <li ng-class="{'active': orderK === 'data_nascita'}" ng-click="selectOrder('data_nascita')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> Età</a>
        </li>
        <li ng-class="{'active': orderK === 'reddito_medio'}" ng-click="selectOrder('reddito_medio')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Reddito</a>
        </li>
        <li ng-class="{'active': orderK === '-reddito_medio'}" ng-click="selectOrder('-reddito_medio')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> Reddito</a>
        </li>

        <li ng-class="{'active': orderK === 'completezza_media'}" ng-click="selectOrder('completezza_media')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Completezza</a>
        </li>
        <li ng-class="{'active': orderK === '-completezza_media'}" ng-click="selectOrder('-completezza_media')" role="presentation">
          <a href=""><span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> Completezza</a>
        </li>
      </ul>

      <div ng-repeat="result in results | orderBy: orderK" class="media" style="max-width:450px;float:left">
        <div class="media-left">
          <a href="#/scheda/{{result.op_id}}">
            <img
              bn-lazy-src="http://op_openparlamento_images.s3.amazonaws.com/parlamentari/picture/{{result.op_id}}.jpeg"
              alt="{{result.nome|capitalize:all}} {{result.cognome|capitalize:all}}"
              class="media-object"
              />
          </a>
        </div>
        <div class="media-body">
          <h3 class="media-heading"><a href="#/scheda/{{result.op_id}}">{{result.nome|capitalize:all}} {{result.cognome|capitalize:all}}</a></h3>
          <p>
            <b>Data nascita:</b> {{result.data_nascita|date:'d/M/yyyy'}}<br>
            <b>Istituzioni:</b> {{result.istituzioni}}<br>
            <b>Professione:</b> {{result.professione}}<br>
            <b>Media reddito:</b> {{result.reddito_medio|currency:"€"}}
          </p>
        </div>
      </div><!-- ng-repeat-->
    </div> <!-- panel-body -->
  </div> <!-- panel-end -->
</div>
